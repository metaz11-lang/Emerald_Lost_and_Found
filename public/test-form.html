<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Disc Form</title>
    <style>
        body { font-family: system-ui; max-width: 500px; margin: 50px auto; padding: 20px; }
        form { display: flex; flex-direction: column; gap: 15px; }
        label { font-weight: bold; }
        input, select { padding: 8px; border: 1px solid #ccc; border-radius: 4px; }
        button { padding: 10px; background: #10b981; color: white; border: none; border-radius: 4px; cursor: pointer; }
        button:hover { background: #059669; }
        .result { margin-top: 20px; padding: 10px; border-radius: 4px; }
        .success { background: #d1fae5; color: #065f46; }
        .error { background: #fee2e2; color: #dc2626; }
    </style>
</head>
<body>
    <h1>Test Disc Submission Form</h1>
    <p>This is a simple test to verify disc creation works directly without React.</p>
    
    <form id="discForm">
        <label for="ownerName">Owner Name:</label>
        <input type="text" id="ownerName" name="ownerName" required>
        
        <label for="phoneNumber">Phone Number:</label>
        <input type="tel" id="phoneNumber" name="phoneNumber" required>
        
        <label for="discType">Disc Type:</label>
        <select id="discType" name="discType" required>
            <option value="">Select Type</option>
            <option value="Driver">Driver</option>
            <option value="Fairway">Fairway</option>
            <option value="Midrange">Midrange</option>
            <option value="Putter">Putter</option>
        </select>
        
        <label for="discColor">Disc Color:</label>
        <select id="discColor" name="discColor" required>
            <option value="">Select Color</option>
            <option value="Red">Red</option>
            <option value="Blue">Blue</option>
            <option value="Green">Green</option>
            <option value="Yellow">Yellow</option>
            <option value="Orange">Orange</option>
            <option value="Purple">Purple</option>
            <option value="White">White</option>
            <option value="Black">Black</option>
        </select>
        
        <label for="binNumber">Bin Number (optional):</label>
        <input type="number" id="binNumber" name="binNumber" min="1">
        
        <button type="submit">Submit Disc</button>
    </form>
    
    <div id="result"></div>

    <script>
        document.getElementById('discForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const formData = new FormData(this);
            const data = {
                ownerName: formData.get('ownerName'),
                phoneNumber: formData.get('phoneNumber'),
                discType: formData.get('discType'),
                discColor: formData.get('discColor'),
                binNumber: formData.get('binNumber') ? parseInt(formData.get('binNumber')) : undefined
            };
            
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = 'Submitting...';
            
            try {
                const response = await fetch('/api/discs', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(data)
                });
                
                const result = await response.json();
                
                if (response.ok) {
                    resultDiv.innerHTML = `<div class="success">Success! Disc created with ID: ${result.disc.id}</div>`;
                    this.reset();
                } else {
                    resultDiv.innerHTML = `<div class="error">Error: ${result.error}</div>`;
                }
            } catch (error) {
                resultDiv.innerHTML = `<div class="error">Network Error: ${error.message}</div>`;
            }
        });
    </script>
</body>
</html>